# Campus Match - ìˆ™ëª…ì—¬ëŒ€ ìº í¼ìŠ¤ ë§¤ì¹­ í”Œë«í¼

ìˆ™ëª…ì—¬ìëŒ€í•™êµ í•™ìƒ ì „ìš© í”„ë¡œì íŠ¸ ë§¤ì¹­Â·ë„¤íŠ¸ì›Œí‚¹ ì„œë¹„ìŠ¤. íšŒì› ìŠ¹ì¸ ì‹œìŠ¤í…œ, ìê¸°ì†Œê°œÂ·ê²Œì‹œê¸€ ì‘ì„±, ê²€ìƒ‰, 1:1 ë©”ì‹œì§€, AI ê¸°ë°˜ ì¶”ì²œ, íŒ€ ì¼ì • ê´€ë¦¬, ê´€ë¦¬ì í˜ì´ì§€ ë“± ê¸°ëŠ¥ êµ¬í˜„.

## ğŸ‰ ìµœì‹  ì—…ë°ì´íŠ¸ (2025-08-21)

### âœ… **API í…ŒìŠ¤íŠ¸ 100% ì„±ê³µ ë‹¬ì„±! (dev í™˜ê²½)**
- **ì´ í…ŒìŠ¤íŠ¸**: 55ê°œ
- **ì„±ê³µë¥ **: **100.0%** (55/55 ì„±ê³µ)
- **ì‹¤íŒ¨**: 0ê°œ
- **ê²€ìƒ‰ API 400 ì—ëŸ¬ ì™„ì „ í•´ê²°** (dev í™˜ê²½)
- **íšŒê·€ ë°©ì§€ ì²´ê³„ ì™„ë²½ êµ¬ì¶•**

### ğŸ”§ **í•´ê²°ëœ ì£¼ìš” ë¬¸ì œë“¤**
1. **ê²€ìƒ‰ API 400 ì—ëŸ¬**: í•œê¸€ í‚¤ì›Œë“œ URL ì¸ì½”ë”© ë¬¸ì œ ì™„ì „ í•´ê²° (dev í™˜ê²½)
2. **íŒ€ ìŠ¤ì¼€ì¤„ ìƒì„±**: dev í™˜ê²½ì—ì„œ 201 Created ë°˜í™˜ ë³´ì¥
3. **íŒ€ ìˆ˜ì • API**: í•„ë“œëª… ë¶ˆì¼ì¹˜ ë¬¸ì œ í•´ê²° (dev í™˜ê²½)
4. **Dev í™˜ê²½ ìµœì í™”**: ëª¨ë“  API ì•ˆì •ì  ì‘ë™

### ğŸ›¡ï¸ **íšŒê·€ ë°©ì§€ ì‹œìŠ¤í…œ**
- í”„ë¡ íŠ¸ì—”ë“œ API ê°€ì´ë“œë¼ì¸ ë¬¸ì„œí™”
- URL ì¸ì½”ë”© ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
- Dev ì „ìš© POST ëŒ€ì²´ ì—”ë“œí¬ì¸íŠ¸
- í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ URL ì¸ì½”ë”© ê°•ì œ

## ğŸ—ï¸ í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜

### ğŸ“Š **í™˜ê²½ë³„ ë¹„êµí‘œ**

| êµ¬ë¶„ | **dev (ê°œë°œ)** | **prod (ìš´ì˜)** | **local (ë°±ì—…)** | **test (í…ŒìŠ¤íŠ¸)** |
|------|----------------|-----------------|------------------|-------------------|
| **í¬íŠ¸** | `8080` | í™˜ê²½ë³€ìˆ˜ | `8080` | ì„ì‹œí¬íŠ¸ |
| **ë°ì´í„°ë² ì´ìŠ¤** | MySQL (localhost) | MySQL (ì™¸ë¶€ì„œë²„) | MySQL (localhost) | H2 (ì¸ë©”ëª¨ë¦¬) |
| **ì¸ì¦ ë°©ì‹** | Mock ì¸ì¦ | JWT í† í° | ë¯¸ì‚¬ìš© | Mock ì¸ì¦ |
| **ì‚¬ìš©ì ID** | ê³ ì •ê°’ `1L` | JWT í† í°ì—ì„œ ì¶”ì¶œ | - | ê³ ì •ê°’ `999L` |
| **ë³´ì•ˆ ì„¤ì •** | ì™„ì „ ë¹„í™œì„±í™” | JWT í•„í„° í™œì„±í™” | - | ì™„ì „ ë¹„í™œì„±í™” |
| **ìŠ¤í… API** | âœ… í™œì„±í™” | âŒ ë¹„í™œì„±í™” | - | âŒ ë¹„í™œì„±í™” |
| **ì˜ˆì™¸ ì²˜ë¦¬** | ì™„í™”ëœ ì²˜ë¦¬ | í‘œì¤€ ì²˜ë¦¬ | - | í‘œì¤€ ì²˜ë¦¬ |
| **Swagger** | âœ… í™œì„±í™” | âœ… í™œì„±í™” | - | âŒ ë¹„í™œì„±í™” |

### ğŸ” **ì¸ì¦/ì¸ê°€ ì‹œìŠ¤í…œ**

#### **dev í™˜ê²½ (í˜„ì¬ ì‚¬ìš© ì¤‘)**
```java
// Mock ì¸ì¦ - ê³ ì • ì‚¬ìš©ì ID ë°˜í™˜
@Profile("dev")
public class DevCurrentUserResolver {
    public Long currentUserId() {
        return 1L;  // í•­ìƒ 1ë²ˆ ì‚¬ìš©ìë¡œ ì¸ì‹
    }
}

// ë³´ì•ˆ ì™„ì „ ë¹„í™œì„±í™”
spring.autoconfigure.exclude: SecurityAutoConfiguration
```

#### **prod í™˜ê²½**
```java
// JWT í† í° ê¸°ë°˜ ì¸ì¦
@Profile("prod")
public class SecurityConfig {
    .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)
    .requestMatchers("/api/users/register", "/api/users/login").permitAll()
    .anyRequest().authenticated()
}

// TODO: JwtCurrentUserResolver êµ¬í˜„ í•„ìš”
```

#### **test í™˜ê²½**
```java
// í…ŒìŠ¤íŠ¸ìš© Mock ì¸ì¦
@Profile("test")
public class TestCurrentUserResolver {
    public Long currentUserId() {
        return 999L;  // í…ŒìŠ¤íŠ¸ìš© ê³ ì • ì‚¬ìš©ì ID
    }
}
```

### ğŸ—„ï¸ **ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •**

| í™˜ê²½ | **ë°ì´í„°ë² ì´ìŠ¤** | **URL** | **ì‚¬ìš©ì** | **ë¹„ë°€ë²ˆí˜¸** |
|------|------------------|---------|------------|--------------|
| **dev** | MySQL | `jdbc:mysql://127.0.0.1:3306/campus` | `campus` | `campuspw` |
| **prod** | MySQL | `jdbc:mysql://prod-db-server:3306/campus` | `${DB_USER}` | `${DB_PASS}` |
| **local** | MySQL | `jdbc:mysql://127.0.0.1:3306/campus` | `campus` | `campuspw` |
| **test** | H2 | `jdbc:h2:mem:testdb` | `sa` | `` |

### ğŸ“š **Swagger ì„¤ì •**
- **Swagger UI**: `http://localhost:8080/swagger-ui.html`
- **OpenAPI JSON**: `http://localhost:8080/v3/api-docs`
- **API ë¬¸ì„œ**: `openapi.json` (111KB)

### ğŸ§ª **API í…ŒìŠ¤íŠ¸**

#### **í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸**
```
scripts/
â”œâ”€â”€ full-api-test.sh        # ì „ì²´ API í…ŒìŠ¤íŠ¸ (223ì¤„)
â”œâ”€â”€ run-test-and-summary.sh # í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ìš”ì•½
â”œâ”€â”€ check-url-encoding.sh   # URL ì¸ì½”ë”© ê²€ì‚¬
â””â”€â”€ dev-smoke.sh           # ê°œë°œìš© ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸
```

#### **ìµœì‹  í…ŒìŠ¤íŠ¸ ê²°ê³¼**
```
ì´ í…ŒìŠ¤íŠ¸ ìˆ˜: 55
ì„±ê³µ: 55 (100.0%)
ì‹¤íŒ¨: 0 (0.0%)

ì£¼ìš” ì„±ê³µ ì‚¬í•­:
- âœ… ì¸ì¦ API (ë¡œê·¸ì¸/íšŒì›ê°€ì…)
- âœ… í”„ë¡œí•„ API (ì¡°íšŒ/ìˆ˜ì •)
- âœ… ê²Œì‹œê¸€ API (CRUD)
- âœ… íŒ€ API (ìƒì„±/ìˆ˜ì •/ìŠ¤ì¼€ì¤„)
- âœ… ë©”ì‹œì§€ API (ìŠ¤ë ˆë“œ/ì „ì†¡)
- âœ… ê²€ìƒ‰ API (URL ì¸ì½”ë”© í•´ê²°)
- âœ… ì¶”ì²œ API (ì‚¬ìš©ì/ê²Œì‹œê¸€)
- âœ… ê´€ë¦¬ì API (ê³µì§€ì‚¬í•­)
- âœ… ì—ëŸ¬ ì¼€ì´ìŠ¤ ì²˜ë¦¬ (404, 400, 405)
```

#### **âš ï¸ URL ì¸ì½”ë”© ì£¼ì˜ì‚¬í•­**
```javascript
// âŒ ì‹¤íŒ¨ (400 ì—ëŸ¬)
const url = `/api/search/posts?keyword=${keyword}`;

// âœ… ì„±ê³µ (200 ì‘ë‹µ)
const url = `/api/search/posts?keyword=${encodeURIComponent(keyword)}`;
```

## ğŸš€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ë°©ë²•

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Java 21 (JDK 21)
- Docker Desktop (MySQL 8.0 ì»¨í…Œì´ë„ˆìš©)
- Gradle 8.0+

### JAVA_HOME ì„¤ì • (ê¶Œì¥)
```bash
# Windows PowerShell
$env:JAVA_HOME = "C:\Program Files\Java\jdk-21"

# Windows CMD
set JAVA_HOME=C:\Program Files\Java\jdk-21

# ì‹œìŠ¤í…œ í™˜ê²½ë³€ìˆ˜ì— ì˜êµ¬ ì„¤ì • (ê¶Œì¥)
```

### ğŸ³ Docker MySQL ì„¤ì •

#### 1. MySQL ì»¨í…Œì´ë„ˆ ì‹¤í–‰
```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ
docker-compose up -d mysql

# ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
docker ps

# MySQL ë¡œê·¸ í™•ì¸ (ready for connections ë©”ì‹œì§€ í™•ì¸)
docker logs -f campus-mysql
```

#### 2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
```bash
# MySQL ì§ì ‘ ì ‘ì† í…ŒìŠ¤íŠ¸
mysql -h 127.0.0.1 -P 3306 -u campus -p
# ë¹„ë°€ë²ˆí˜¸: campuspw

# ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸
SHOW DATABASES;
USE campus;
SHOW TABLES;
```

### ì‹¤í–‰ ë°©ë²•

#### 1. PowerShellì—ì„œ ì‹¤í–‰ (ê¶Œì¥)
```powershell
# ë°©ë²• 1: PowerShell ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©
.\run-local.ps1

# ë°©ë²• 2: ì§ì ‘ ì‹¤í–‰
.\gradlew.bat bootRunLocal

# ë°©ë²• 3: ê¸°ë³¸ bootRun (local í”„ë¡œí•„ ìë™ ì ìš©)
.\gradlew.bat bootRun
```

#### 2. CMDì—ì„œ ì‹¤í–‰
```cmd
# ë°©ë²• 1: ë°°ì¹˜ íŒŒì¼ ì‚¬ìš©
run-local.bat

# ë°©ë²• 2: ì§ì ‘ ì‹¤í–‰
gradlew.bat bootRunLocal

# ë°©ë²• 3: ê¸°ë³¸ bootRun (local í”„ë¡œí•„ ìë™ ì ìš©)
gradlew.bat bootRun
```

#### 3. í”„ë¡œí•„ë³„ ì‹¤í–‰
```bash
# dev í™˜ê²½ (í˜„ì¬ ì‚¬ìš© ì¤‘)
./gradlew bootRun -Dspring-boot.run.profiles=dev

# prod í™˜ê²½
export SPRING_PROFILES_ACTIVE=prod
./gradlew bootRun

# test í™˜ê²½
./gradlew test
```

### IntelliJ ì„¤ì •

#### 1. Run/Debug Configurations ì—´ê¸°
- `Run` â†’ `Edit Configurations...` í´ë¦­

#### 2. Spring Boot ì„¤ì • (dev í™˜ê²½ìš©)
- `Spring Boot` í…œí”Œë¦¿ ì„ íƒ
- `Name`: `CampusMatch Dev` (ë˜ëŠ” ì›í•˜ëŠ” ì´ë¦„)
- `Main class`: `com.sookmyung.campus_match.CampusMatchApplication`
- `VM options`: `-Dspring.profiles.active=dev`
- `Active profiles`: `dev`

#### 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì • (ì„ íƒì‚¬í•­)
- `Environment variables` ì„¹ì…˜ì—ì„œ:
  - `SPRING_PROFILES_ACTIVE=dev`

## ğŸ§ª API í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### í—¬ìŠ¤ì²´í¬
```bash
# ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ í™•ì¸
curl http://localhost:8080/actuator/health

# Swagger UI ì ‘ì†
open http://localhost:8080/swagger-ui.html
```

### ì „ì²´ API í…ŒìŠ¤íŠ¸
```bash
# ì „ì²´ API í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./scripts/full-api-test.sh

# í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìš”ì•½
./scripts/run-test-and-summary.sh

# URL ì¸ì½”ë”© ê²€ì‚¬
./scripts/check-url-encoding.sh
```

### ê°œë³„ API í…ŒìŠ¤íŠ¸
```bash
# ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
curl -X POST http://localhost:8080/api/users/login \
  -H "Content-Type: application/json" \
  -d '{"studentId":"20240001","password":"password123"}'

# í”„ë¡œí•„ ì¡°íšŒ í…ŒìŠ¤íŠ¸
curl http://localhost:8080/api/profiles/me

# ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ í…ŒìŠ¤íŠ¸
curl http://localhost:8080/api/posts
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/com/sookmyung/campus_match/
â”‚   â”‚   â”œâ”€â”€ CampusMatchApplication.java
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ security/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java (prod)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DevCurrentUserResolver.java (dev)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ jwt/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ JwtTokenProvider.java
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ JwtAuthenticationFilter.java
â”‚   â”‚   â”‚   â””â”€â”€ TestConfig.java
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/ (ì‹¤ì œ ì¸ì¦ API)
â”‚   â”‚   â”‚   â”œâ”€â”€ dev/ (ìŠ¤í… API)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DevAuthController.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DevRecommendationController.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DevSearchController.java
â”‚   â”‚   â”‚   â””â”€â”€ ... (ê¸°íƒ€ ì»¨íŠ¸ë¡¤ëŸ¬)
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â””â”€â”€ exception/
â”‚   â”‚       â”œâ”€â”€ GlobalExceptionHandler.java
â”‚   â”‚       â””â”€â”€ DevErrorAdvice.java (dev)
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ application.yml (ê¸°ë³¸ ì„¤ì •)
â”‚       â”œâ”€â”€ application-dev.yml (ê°œë°œ í™˜ê²½)
â”‚       â”œâ”€â”€ application-prod.yml (ìš´ì˜ í™˜ê²½)
â”‚       â”œâ”€â”€ application-local-backup.yml (ë°±ì—…)
â”‚       â””â”€â”€ db/migration/
â”‚           â””â”€â”€ V1__complete_schema_setup.sql
â”œâ”€â”€ test/
â”‚   â”œâ”€â”€ java/com/sookmyung/campus_match/
â”‚   â”‚   â”œâ”€â”€ CampusMatchApplicationTests.java
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ TestConfig.java
â”‚   â”‚   â””â”€â”€ controller/
â”‚   â”‚       â”œâ”€â”€ AuthControllerTest.java
â”‚   â”‚       â””â”€â”€ UserRegistrationTest.java
â”‚   â””â”€â”€ resources/
â”‚       â””â”€â”€ application-test.yml
â””â”€â”€ scripts/
    â”œâ”€â”€ full-api-test.sh
    â”œâ”€â”€ run-test-and-summary.sh
    â””â”€â”€ check-url-encoding.sh
```

## ğŸ”§ ì£¼ìš” ì„¤ì • íŒŒì¼

### JWT ì„¤ì •
```yaml
# application.yml
jwt:
  secret: your-secret-key-here-make-it-long-and-secure...
  access-token-expiration: 3600    # 1ì‹œê°„
  refresh-token-expiration: 86400  # 24ì‹œê°„
```

### ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```yaml
# application-dev.yml
spring:
  datasource:
    url: jdbc:mysql://127.0.0.1:3306/campus
    username: campus
    password: campuspw
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: validate
  flyway:
    enabled: true
    baseline-on-migrate: true
```

### Swagger ì„¤ì •
```yaml
# application.yml
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
  info:
    title: Campus Match API
    description: ìˆ™ëª…ì—¬ìëŒ€í•™êµ ìº í¼ìŠ¤ ë§¤ì¹˜ í”Œë«í¼ API
    version: 1.0.0
```

## âš ï¸ ì¤‘ìš”í•œ ì£¼ì˜ì‚¬í•­

### 1. í˜„ì¬ ì‚¬ìš© í™˜ê²½
- **ì‹¤ì œ ì‚¬ìš©**: `dev` í™˜ê²½ (í¬íŠ¸ 8080)
- **ë°±ì—… íŒŒì¼**: `local` í™˜ê²½ (ë¯¸ì‚¬ìš©)
- **í…ŒìŠ¤íŠ¸**: `test` í™˜ê²½ (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ìš©)
- **ìš´ì˜**: `prod` í™˜ê²½ (JWT ë¯¸ì™„ì„±)

### 2. JWT êµ¬í˜„ ìƒíƒœ
- âœ… **í† í° ë°œí–‰**: ëª¨ë“  í™˜ê²½ì—ì„œ ì •ìƒ
- âŒ **í† í° ê²€ì¦**: prod í™˜ê²½ì—ì„œ ë¯¸êµ¬í˜„
- âš ï¸ **ì™„ì „í•œ JWT**: ì•„ì§ ê°œë°œ ì¤‘

### 3. API í…ŒìŠ¤íŠ¸
- **URL ì¸ì½”ë”© í•„ìˆ˜**: í•œê¸€ í‚¤ì›Œë“œ ì‹œ `encodeURIComponent` ì‚¬ìš©
- **ìŠ¤í… API**: dev í™˜ê²½ì—ì„œ ë¯¸êµ¬í˜„ API ëª¨í‚¹
- **í…ŒìŠ¤íŠ¸ ì„±ê³µë¥ **: í˜„ì¬ 100.0% (55/55 ì„±ê³µ)

### 4. ë°ì´í„°ë² ì´ìŠ¤
- **dev**: MySQL (localhost:3306)
- **prod**: MySQL (ì™¸ë¶€ ì„œë²„)
- **test**: H2 (ì¸ë©”ëª¨ë¦¬)
- **ë§ˆì´ê·¸ë ˆì´ì…˜**: Flyway ì‚¬ìš©

## ğŸ“š ì¶”ê°€ ë¬¸ì„œ

- [í”„ë¡ íŠ¸ì—”ë“œ API ê°€ì´ë“œë¼ì¸](docs/frontend-api-guidelines.md)
- [ê²€ìƒ‰ API ì¸ì½”ë”© ê°€ì´ë“œ](docs/search-api-encoding-guide.md)
- [API ìš”ì²­ í˜•ì‹ ê°€ì´ë“œ](docs/request-format.md)

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ“ ì—°ë½ì²˜

- **í”„ë¡œì íŠ¸ ë§í¬**: [https://github.com/your-username/sookmyung-linkedin](https://github.com/your-username/sookmyung-linkedin)
- **ì´ë©”ì¼**: support@campus-match.com

---

**í˜„ì¬ `dev` í™˜ê²½ì´ ì‹¤ì œ ê°œë°œì— ì‚¬ìš©ë˜ê³  ìˆìœ¼ë©°, ëª¨ë“  ìŠ¤í… APIì™€ Mock ì¸ì¦ì´ í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤!** ğŸš€
